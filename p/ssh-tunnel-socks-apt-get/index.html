
<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="UTF-8">
<meta name=keywords content="bbs, unix, free shell, shell account, free 
shell account, shell access, free account, netbsd, public access, unix 
system, dec alpha, arpa, vhost, free webhosting, free webhost, free irc 
sundays, SDF, Super Dimension Fortress, not lisp, genera, eggdrop, 
bouncer, 
learn unix, unix training, ethical social network, minecraft, paintchat, 
diaspora pod">
  <title>
    ssh tunnel apt-get SOCKS proxy | 0/10 Don&#39;t Bookmark.
  </title>


  <meta name="viewport" content="width=device-width,user-scalable=no,maximum-scale=1,initial-scale=1">

  <link rel="canonical" href="https://aerth.github.io/blog/p/ssh-tunnel-socks-apt-get/"/>

  <link rel="stylesheet" href="https://aerth.github.io/blog/css/sanitize.css">
  <link rel="stylesheet" href="https://aerth.github.io/blog/css/responsive.css">
  <link rel="stylesheet" href="https://aerth.github.io/blog/css/highlight_monokai.css">
  <link rel="stylesheet" href="https://aerth.github.io/blog/css/theme.css">
  <link rel="stylesheet" href="https://aerth.github.io/blog/css/custom.css">
  
  <link href="https://aerth.github.io/blog/index.xml" rel="alternate" type="application/rss+xml" title="0/10 Don&#39;t Bookmark." />
  <link href="https://aerth.github.io/blog/index.xml" rel="feed" type="application/rss+xml" title="0/10 Don&#39;t Bookmark." />

<script src="https://aerth.github.io/blog/js/jquery.js"></script>
<script src="https://aerth.github.io/blog/js/judy.js"></script>
<script src="https://aerth.github.io/blog/js/main.js"></script>

</head>



<body>
<div class="container">

  <header role="banner">
    <div class="row gutters">
      <div id="site-title" class="col span_6">
        <h1><a href="https://aerth.github.io/blog/">0/10 Don&#39;t Bookmark.</a></h1>
        <h2>unix and whatnot</h2>
      </div>
      <div id="social" class="col span_6">
        <ul>
          <li><a href="https://twitter.com/aerth___" target="_blank">Twitter</a></li>
          
          <li><a href="https://github.com/aerth" target="_blank">GitHub</a></li>
          <li><a href="https://gitlab.com/aerth" target="_blank">Git</a></li>
          
        </ul>
      </div>
    </div>
  </header>


  <main id="single" role="main">
    <div class="article-header">
      <h1>ssh tunnel apt-get SOCKS proxy</h1>
      <div class="meta">
        Feb 28, 2016 &nbsp;
        
          #<a href="/tags/sh">sh</a>&nbsp;
        
          #<a href="/tags/bash">bash</a>&nbsp;
        
          #<a href="/tags/proxychains4">proxychains4</a>&nbsp;
        
          #<a href="/tags/socks">SOCKS</a>&nbsp;
        
      </div>
    </div>
    <article>
      

<h2 id="for-use-behind-a-restrictive-firewall">For use behind a restrictive firewall.</h2>

<p>Use SSH Tunnel for apt-get install (Debian)</p>

<pre><code>
$ cat bin/grab 
#!/bin/sh
echo Downloading $1 using proxychains4
sudo proxychains4 -q apt-get install -d $1
echo Installing $1 from .debs
sudo apt-get install $1

</code></pre>

<p>Set up proxychains4 for the SSH tunnel</p>

<pre><code>$ tail /usr/local/etc/proxychains.conf 
#       proxy types: http, socks4, socks5
#        ( auth types supported: &quot;basic&quot;-http  &quot;user/pass&quot;-socks )
#
[ProxyList]
# defaults set to &quot;tor&quot;
#socks4 	127.0.0.1 9050
# but i use &quot;ssh -D 1080 example.com&quot; to set up a &quot;poor man's VPN&quot;
socks4	127.0.0.1 1080

</code></pre>

<p>Start the SOCKS proxy on 1080 and login to SSH server</p>

<pre><code>$ cat bin/isp-relief 
#!/bin/sh
ssh -D 1080 $1

</code></pre>

<p>Use it</p>

<pre><code>
bin/isp-relief yourshellexample.com

</code></pre>

<pre><code>
bin/grab &quot;pidgin pidgin-otr git golang&quot;

</code></pre>

<p>This assumes you have set up a ~/.ssh/config file like so:</p>

<pre><code>
$ cat ~/.ssh/config

host example.com
IdentityFile ~/.ssh/id_rsa
user yourname
port 22

</code></pre>

      
    </article>

<div id="disqus_thread"></div>                                                                                                                                                                  
<script type="text/javascript">                                                                                                                                                                 
    var disqus_shortname = 'aerth';                                                                                                                                                             
    (function() {                                                                                                                                                                               
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;                                                                                             
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';                                                                                                                             
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);                                                                                
    })();                                                                                                                                                                                       
</script>                                                                                                                                                                                       
<noscript>no js = no comment. no problem!<br><br></noscript>

  </main>
  
  <nav class="pagination">
    
      <span class="previous">&lt; <a href="https://aerth.github.io/blog/p/rancheros-docker-stuff/" rel="prev">rancheros docker stuff</a></span>
    
    
      <span class="next"><a href="https://aerth.github.io/blog/p/one-page-web-server-contact-form/" rel="next">one page web server contact form</a> ></span>
    
  </nav>


  <footer role="contentinfo">
   <div style="text-align:center;">
    <img src="https://github.com/aerth.png"><br>
<a href="/">      </a>
    </div>
  </footer>


</div>

<script src="https://aerth.github.io/blog/js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>



</body>
</html>

